<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fingerprint + IP + UA</title>
  <script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js"></script>
  <style>
    body { font-family: system-ui, sans-serif; padding: 30px; background:#fafafa; line-height:1.6; }
    .box { background:white; padding:20px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1); margin-bottom:20px; }
    .label { font-weight:bold; color:#333; }
    .value { background:#f0f0f0; padding:8px 12px; border-radius:6px; word-break:break-all; font-family:monospace; }
  </style>
</head>
<body>

<div class="box">
  <div class="label">Browser Fingerprint (Visitor ID)</div>
  <div id="fingerprint" class="value">Loading…</div>
</div>

<div class="box">
  <div class="label">IP Address & Location</div>
  <div id="ipinfo" class="value">Loading…</div>
</div>

<div class="box">
  <div class="label">User Agent</div>
  <div id="ua" class="value">Loading…</div>
</div>

<script>
// 1. User Agent (instant)
document.getElementById('ua').textContent = navigator.userAgent;

// 2. FingerprintJS
FingerprintJS.load().then(fp => {
  fp.get().then(result => {
    document.getElementById('fingerprint').textContent = result.visitorId;
  });
});

// 3. IP + Location (via ipapi.co – free tier, no key needed)
fetch('https://ipapi.co/json/')
  .then(r => r.json())
  .then(data => {
    const info = `${data.ip} — ${data.city}, ${data.region}, ${data.country_name} (${data.org})`;
    document.getElementById('ipinfo').textContent = info;
  })
  .catch(() => {
    document.getElementById('ipinfo').textContent = 'Could not retrieve IP info';
  });

</script>

</body>
</html>